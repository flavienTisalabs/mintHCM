import{l as f,z as o,E as v,e as b,a as y,n as V,w as $,bi as i,B as g,_ as x}from"./index.af03a0f5.js";const B=f({__name:"parent.edit",props:{defs:{},label:{},modelValue:{},data:{}},emits:["update:modelValue"],setup(m,{emit:u}){const e=m,p=u,s=o(e.data.bean[e.defs.id_name]?[{id:e.data.bean[e.defs.id_name],name:e.modelValue}]:[]);v(()=>{r()});const d=o(e.data.bean[e.defs.id_name]),l=b({get(){return d.value},set(t){e.data.bean[e.defs.id_name]=t,d.value=t,p("update:modelValue",[e.defs.id_name])}});async function r(){var a,n;const t=await y.post(`api/${e.data.bean.parent_type}`,{offset:0});(n=(a=t.data)==null?void 0:a.results)!=null&&n.length&&(s.value=t.data.results.sort((_,c)=>_.name.localeCompare(c.name,"pl")))}return(t,a)=>(V(),$(g,{items:s.value,label:e.label,variant:"outlined",density:"compact","hide-details":"",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=n=>l.value=n),"item-value":"id","item-title":"name",onKeyup:[a[1]||(a[1]=i(n=>t.$emit("inlineEditSave"),["enter"])),a[2]||(a[2]=i(n=>t.$emit("inlineEditCancel"),["esc"]))]},null,8,["items","label","modelValue"]))}});const E=x(B,[["__scopeId","data-v-75ce4313"]]);export{E as default};
